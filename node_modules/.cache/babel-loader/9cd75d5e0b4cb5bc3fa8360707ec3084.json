{"ast":null,"code":"var _jsxFileName = \"/Users/soyoscarrh/Documents/Projects/cellular-automata/src/App.tsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styles from \"./App.module.css\";\nimport { getLine } from \"./automata\";\n\nconst App = () => {\n  const canvas = useRef(null);\n  const [count, setCount] = useState(0);\n  const [rule, setRule] = useState(118);\n  const [size, setSize] = useState(3);\n  const [steps, setSteps] = useState(300);\n  const [n, setN] = useState(300);\n  useEffect(() => {\n    const data = Array(n).fill(0);\n    data[n / 2] = 1;\n    const current_canvas = canvas.current;\n    const drawer = current_canvas === null || current_canvas === void 0 ? void 0 : current_canvas.getContext(\"2d\");\n    if (!drawer) return;\n    drawer.clearRect(0, 0, current_canvas.width, current_canvas.height);\n    drawer.fillStyle = \"white\";\n\n    for (let step = 0, line = data; step < steps; ++step) {\n      line.forEach((cell, index) => {\n        if (!cell) return;\n        drawer.fillRect(index * size, step * size, size, size);\n      });\n      line = getLine(line, rule);\n    }\n  }, [count]);\n  return React.createElement(\"div\", {\n    className: styles.app,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"main\", {\n    className: styles.appMain,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Cellular Automata\"), React.createElement(\"label\", {\n    htmlFor: \"rule\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Rule: \"), React.createElement(\"input\", {\n    id: \"rule\",\n    type: \"number\",\n    min: \"0\",\n    max: \"255\",\n    value: rule,\n    onChange: e => setRule(Number(e.target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"size\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Size of cell: \"), React.createElement(\"input\", {\n    id: \"size\",\n    type: \"number\",\n    min: \"1\",\n    max: \"10\",\n    value: size,\n    onChange: e => setSize(Number(e.target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"n\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Number of cells: \"), React.createElement(\"input\", {\n    id: \"n\",\n    type: \"number\",\n    min: \"10\",\n    step: \"10\",\n    max: \"600\",\n    value: n,\n    onChange: e => setN(Number(e.target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"steps\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Iterations: \"), React.createElement(\"input\", {\n    id: \"steps\",\n    type: \"number\",\n    min: \"10\",\n    step: \"10\",\n    max: \"600\",\n    value: steps,\n    onChange: e => setSteps(Number(e.target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => setCount(c => c + 1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Go!\"), React.createElement(\"canvas\", {\n    ref: canvas,\n    width: size * n,\n    height: size * steps,\n    style: {\n      border: \"0.1rem solid rgba(255, 255, 255, .5)\",\n      margin: \"2rem\",\n      padding: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/soyoscarrh/Documents/Projects/cellular-automata/src/App.tsx"],"names":["React","useEffect","useRef","useState","styles","getLine","App","canvas","count","setCount","rule","setRule","size","setSize","steps","setSteps","n","setN","data","Array","fill","current_canvas","current","drawer","getContext","clearRect","width","height","fillStyle","step","line","forEach","cell","index","fillRect","app","appMain","e","Number","target","value","c","border","margin","padding"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styles from \"./App.module.css\";\n\nimport { getLine } from \"./automata\";\n\nconst App = () => {\n  const canvas = useRef<HTMLCanvasElement>(null);\n  const [count, setCount] = useState(0);\n  const [rule, setRule] = useState(118);\n\n  const [size, setSize] = useState(3);\n  const [steps, setSteps] = useState(300);\n  const [n, setN] = useState(300);\n\n  useEffect(() => {\n    const data = Array(n).fill(0);\n    data[n / 2] = 1;\n\n    const current_canvas = canvas.current;\n    const drawer = current_canvas?.getContext(\"2d\");\n    if (!drawer) return;\n\n    drawer.clearRect(0, 0, current_canvas!.width, current_canvas!.height);\n    drawer.fillStyle = \"white\";\n\n    for (let step = 0, line = data; step < steps; ++step) {\n      line.forEach((cell, index) => {\n        if (!cell) return;\n        drawer.fillRect(index * size, step * size, size, size);\n      });\n\n      line = getLine(line, rule);\n    }\n  }, [count]);\n\n  return (\n    <div className={styles.app}>\n      <main className={styles.appMain}>\n        <p>Cellular Automata</p>\n\n        <label htmlFor=\"rule\">Rule: </label>\n        <input\n          id=\"rule\"\n          type=\"number\"\n          min=\"0\"\n          max=\"255\"\n          value={rule}\n          onChange={e => setRule(Number(e.target.value))}\n        />\n\n        <label htmlFor=\"size\">Size of cell: </label>\n        <input\n          id=\"size\"\n          type=\"number\"\n          min=\"1\"\n          max=\"10\"\n          value={size}\n          onChange={e => setSize(Number(e.target.value))}\n        />\n\n        <label htmlFor=\"n\">Number of cells: </label>\n        <input\n          id=\"n\"\n          type=\"number\"\n          min=\"10\"\n          step=\"10\"\n          max=\"600\"\n          value={n}\n          onChange={e => setN(Number(e.target.value))}\n        />\n\n        <label htmlFor=\"steps\">Iterations: </label>\n        <input\n          id=\"steps\"\n          type=\"number\"\n          min=\"10\"\n          step=\"10\"\n          max=\"600\"\n          value={steps}\n          onChange={e => setSteps(Number(e.target.value))}\n        />\n\n        <button onClick={() => setCount(c => c + 1)}>Go!</button>\n\n        <canvas\n          ref={canvas}\n          width={size * n}\n          height={size * steps}\n          style={{\n            border: \"0.1rem solid rgba(255, 255, 255, .5)\",\n            margin: \"2rem\",\n            padding: 0\n          }}\n        />\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}