(this["webpackJsonpcellular-automata"]=this["webpackJsonpcellular-automata"]||[]).push([[0],[,,function(e,t,a){e.exports={segment:"Game_segment__3Uy8-",analysisData:"Game_analysisData__blllM",container:"Game_container__2Hp8K",display:"Game_display__1cKGN",intenseButton:"Game_intenseButton__3ntWs"}},function(e,t,a){e.exports={app:"App_app__3UCIE",appMain:"App_appMain__19oKc"}},,,,,,function(e,t,a){e.exports=a(15)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),l=a.n(i),c=(a(14),a(1)),s=function(e){var t=Object(n.useState)(e),a=Object(c.a)(t,2),r=a[0],i=a[1];return[r,Object(n.useCallback)((function(){i((function(e){return!e}))}),[i])]},o=a(2),u=a.n(o),m=a(6),h=a(7),f=function(){function e(t){Object(m.a)(this,e),this.histogram=void 0,this.epoch=void 0,this.data=void 0,this.buffer=void 0,this.getRules=function(e){return function(t,a){var n=t.length-1,r=a===n?0:a+1,i=(t[0===a?n:a-1]<<2)+(t[a]<<1)+(t[r]<<0);return e>>i&1}},this.data=new Uint8Array(new ArrayBuffer(t.length)),this.buffer=new Uint8Array(new ArrayBuffer(t.length)),this.histogram=[],this.epoch=0;for(var a=0,n=0;n<this.data.length;++n)this.data[n]=t[n],this.data[n]&&++a;this.histogram[this.epoch]=a}return Object(h.a)(e,[{key:"newEpoch",value:function(e){this.epoch+=1;for(var t=0,a=this.getRules(e),n=0;n<this.buffer.length;++n)this.buffer[n]=a(this.data,n),this.buffer[n]&&++t;this.histogram[this.epoch]=t;var r=[this.buffer,this.data];this.data=r[0],this.buffer=r[1]}},{key:"createNewEpoch",value:function(e){var t=this,a=this.getRules(e);return this.data.map((function(e,n){return a(t.data,n)}))}},{key:"average",get:function(){for(var e=0,t=0;t<this.histogram.length;++t)e+=this.histogram[t];return e/this.histogram.length}},{key:"variance",get:function(){for(var e=this.average,t=0,a=0;a<this.histogram.length;++a)t+=(this.histogram[a]-e)*(this.histogram[a]-e);return t/this.histogram.length}}]),e}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6,a=Math.floor(window.innerWidth*t/e),n=(a-a%10)/10*10;return n},b=function(e){for(var t=new Array(e),a=0;a<t.length;++a)t[a]=0;return t[Math.floor(e/2)]=1,t},p=function(e,t,a,n,r,i){console.log("hey");var l=e.current,c=null===l||void 0===l?void 0:l.getContext("2d");if(l&&c){var s=new f(r);c.clearRect(0,0,l.width,l.height),c.fillStyle="white";for(var o=t,u=function(e){s.data.forEach((function(t,a){t&&c.fillRect(a*o,e*o,o,o)})),s.newEpoch(n)},m=0;m<a;++m)u(m);return i||function(e,t,a){var n=[{y:e,type:"bar",opacity:.6,marker:{color:"rgb(158,202,225)"},name:"Histogram"},{y:[t,t],x:[0,e.length-1],mode:"lines",opacity:.5,marker:{color:"#FC7A7A"},name:"Average"},{y:[t+a,t+a],x:[0,e.length-1],mode:"lines",opacity:.5,marker:{color:"#09999"},name:"sqrt derivation +"},{y:[t-a,t-a],x:[0,e.length-1],mode:"lines",opacity:.9,marker:{color:"#09999"},name:"sqrt derivation -"}];Plotly.newPlot("graph",n,{title:"Number of ones",showlegend:!1})}(s.histogram,s.average,Math.sqrt(s.variance)),s}},d=a(8),v=function(e){var t=Object(n.useState)(e),a=Object(c.a)(t,2),r=a[0],i=a[1],l=Object(d.a)({value:r,onChange:function(t){if("string"===typeof e)i(String(t.target.value));else if("number"===typeof r)i(Number(t.target.value));else{if("boolean"!==typeof r)throw Error("Wrong type at useInput");i(Boolean(t.target.value))}}},"number"===typeof r&&{type:"number"});return[r,l]},E=function(){var e=v(126),t=Object(c.a)(e,2),a=t[0],i=t[1],l=v(2),s=Object(c.a)(l,2),o=s[0],m=s[1],h=g(o),f=v(h),d=Object(c.a)(f,2),E=d[0],j=d[1],O=Object(n.useState)([]),y=Object(c.a)(O,2),w=y[0],N=y[1],_=window.innerWidth<window.innerHeight,C=v(_?2*h:h),k=Object(c.a)(C,2),A=k[0],x=k[1],S=Object(n.useRef)(null),F=o*E,R=o*A;return Object(n.useEffect)((function(){N(b(E))}),[E]),Object(n.useEffect)((function(){p(S,o,A,a,w,!0)}),[S,o,A,a,w]),r.a.createElement("section",{className:u.a.segment},r.a.createElement("div",{className:u.a.container},r.a.createElement("label",{htmlFor:"ruleID"},"Rule: "),r.a.createElement("input",Object.assign({id:"ruleID",min:"0",max:"255"},i)),r.a.createElement("label",{htmlFor:"cellSize"},"Size of cell: "),r.a.createElement("input",Object.assign({id:"cellSize",min:"1",max:"15"},m)),r.a.createElement("label",{htmlFor:"nCells"},"Number of cells: "),r.a.createElement("input",Object.assign({id:"nCells",min:"10",step:"10",max:"900"},j)),r.a.createElement("label",{htmlFor:"steps"},"Iterations: "),r.a.createElement("input",Object.assign({id:"steps",min:"10",step:"10"},x))),r.a.createElement("canvas",Object.assign({ref:S},{width:F,height:R,className:u.a.display})))},j=function(){var e=v(126),t=Object(c.a)(e,2),a=t[0],i=t[1],l=v(2),o=Object(c.a)(l,2),m=o[0],h=o[1],f=v(50),d=Object(c.a)(f,2),E=d[0],j=d[1],O=s(!0),y=Object(c.a)(O,2),w=y[0],N=y[1],_=g(m),C=v(_),k=Object(c.a)(C,2),A=k[0],x=k[1],S=Object(n.useState)([]),F=Object(c.a)(S,2),R=F[0],M=F[1];Object(n.useEffect)((function(){w&&M(function(e,t){for(var a=new Array(e),n=0;n<a.length;++n)a[n]=Math.random()<t/100?1:0;return a}(A,E))}),[A,E,w]),Object(n.useEffect)((function(){w||M(b(A))}),[A,w]);var I=window.innerWidth<window.innerHeight,B=v(I?2*_:_),D=Object(c.a)(B,2),z=D[0],G=D[1],W=Object(n.useRef)(null),H={width:m*A,height:m*z,className:u.a.display},U=Object(n.useRef)(),q={backgroundColor:"rgba(255, 255, 255, ".concat(w?.1:.7,")")},K={className:u.a.intenseButton,style:q};return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:u.a.segment},r.a.createElement("div",{className:u.a.container},r.a.createElement("label",{htmlFor:"ruleID"},"Rule: "),r.a.createElement("input",Object.assign({id:"ruleID",min:"0",max:"255"},i)),r.a.createElement("button",Object.assign({onClick:N},K),"1 at the center ",w?"off":"on"),w&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"percentage"},"Percentage: "),r.a.createElement("input",Object.assign({id:"percentage",min:"1",max:"100"},j))),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"cellSize"},"Size of cell: "),r.a.createElement("input",Object.assign({id:"cellSize",min:"1",max:"15"},h)),r.a.createElement("label",{htmlFor:"nCells"},"Number of cells: "),r.a.createElement("input",Object.assign({id:"nCells",min:"10",step:"10",max:"900"},x)),r.a.createElement("label",{htmlFor:"steps"},"Iterations: "),r.a.createElement("input",Object.assign({id:"steps",min:"10",step:"10"},G))),r.a.createElement("div",{className:u.a.container},r.a.createElement("input",{type:"file",id:"file",onChange:function(e){var t,a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){var n=new FileReader;n.readAsText(a),n.onload=function(e){var t,a=(null===(t=e.target)||void 0===t?void 0:t.result).split(",").map((function(e){return Number(e)}));x.onChange({target:{value:a.length}}),M(a)}}}}),r.a.createElement("button",{onClick:function(){p(W,m,z,a,R,!1)}},"Simulate automata")),r.a.createElement("canvas",Object.assign({ref:W},H))),r.a.createElement("hr",{style:{width:"80%",borderWidth:"0.1rem"}}),r.a.createElement("section",{className:u.a.segment},r.a.createElement("h2",null,"Analysis"),U.current&&r.a.createElement("div",{className:u.a.analysisData},r.a.createElement("p",null,"Average: ",U.current.average),r.a.createElement("p",null,"Variance: ",U.current.variance," ")),r.a.createElement("div",{id:"graph"})))},O=a(3),y=a.n(O),w=function(){var e=s(!0),t=Object(c.a)(e,2),a=t[0],n=t[1],i={backgroundColor:"rgba(255, 255, 255, ".concat(a?.7:.1,")")},l={className:u.a.intenseButton,style:i},o=a?r.a.createElement(E,null):r.a.createElement(j,null);return r.a.createElement("div",{className:y.a.app},r.a.createElement("main",{className:y.a.appMain},r.a.createElement("h2",null,"Cellular Automata"),r.a.createElement("section",{className:u.a.segment},r.a.createElement("div",{className:u.a.container},r.a.createElement("button",Object.assign({onClick:n},l),"Simple Mode ",a?"on":"off"))),o))},N=document.getElementById("ReactApp");l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),N)}],[[9,1,2]]]);
//# sourceMappingURL=main.1e441f2d.chunk.js.map