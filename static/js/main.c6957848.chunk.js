(this["webpackJsonpcellular-automata"]=this["webpackJsonpcellular-automata"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(4),l=a.n(r),o=(a(13),a(1)),c=a(2),s=a.n(c),u=a(7),h=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),i=a[0],r=a[1],l=Object(u.a)({value:i,onChange:function(t){if("string"===typeof e)r(String(t.target.value));else if("number"===typeof i)r(Number(t.target.value));else{if("boolean"!==typeof i)throw Error("Wrong type at useInput");r(Boolean(t.target.value))}}},"number"===typeof i&&{type:"number"});return[i,l]},f=a(5),p=a(6),m=function(){function e(t){Object(f.a)(this,e),this.histogram=void 0,this.epoch=void 0,this.data=void 0,this.buffer=void 0,this.getRules=function(e){return function(t,a){var n=t.length-1,i=a===n?0:a+1,r=(t[0===a?n:a-1]<<2)+(t[a]<<1)+(t[i]<<0);return e>>r&1}},this.data=new Uint8Array(new ArrayBuffer(t.length)),this.buffer=new Uint8Array(new ArrayBuffer(t.length)),this.histogram=[],this.epoch=0;for(var a=0,n=0;n<this.data.length;++n)this.data[n]=t[n],this.data[n]&&++a;this.histogram[this.epoch]=a}return Object(p.a)(e,[{key:"newEpoch",value:function(e){this.epoch+=1;for(var t=0,a=this.getRules(e),n=0;n<this.buffer.length;++n)this.buffer[n]=a(this.data,n),this.buffer[n]&&++t;this.histogram[this.epoch]=t;var i=[this.buffer,this.data];this.data=i[0],this.buffer=i[1]}},{key:"createNewEpoch",value:function(e){var t=this,a=this.getRules(e);return this.data.map((function(e,n){return a(t.data,n)}))}}]),e}(),b=function(e,t,a,n,i,r){var l=e.current,o=null===l||void 0===l?void 0:l.getContext("2d");if(l&&o){var c=new m(i);o.clearRect(0,0,l.width,l.height),o.fillStyle="white";for(var s=t,u=function(e){c.data.forEach((function(t,a){t&&o.fillRect(a*s,e*s,s,s)})),c.newEpoch(n)},h=0;h<a;++h)u(h);r||function(e){var t=[{y:e,type:"bar",opacity:.9,marker:{color:"rgb(158,202,225)"}}];Plotly.newPlot("graph",t,{title:"Number of ones",showlegend:!1})}(c.histogram)}},d=function(){var e=h(126),t=Object(o.a)(e,2),a=t[0],r=t[1],l=h(2),c=Object(o.a)(l,2),u=c[0],f=c[1],p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6,a=Math.floor(window.innerWidth*t/e),n=(a-a%10)/10*10;return n}(u),m=h(p),d=Object(o.a)(m,2),g=d[0],v=d[1],E=Object(n.useState)([]),w=Object(o.a)(E,2),y=w[0],j=w[1],O=window.innerWidth<window.innerHeight,_=h(O?2*p:p),A=Object(o.a)(_,2),C=A[0],N=A[1],S=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),i=a[0],r=a[1];return[i,Object(n.useCallback)((function(){r((function(e){return!e}))}),[r])]}(!O),k=Object(o.a)(S,2),R=k[0],x=k[1],B="rgba(255, 255, 255, ".concat(R?.7:.1,")"),M={className:s.a.intenseButton,style:{backgroundColor:B}},I=Object(n.useRef)(null),F={width:u*g,height:u*C,className:s.a.display};Object(n.useEffect)((function(){R&&j(function(e){for(var t=new Array(e),a=0;a<t.length;++a)t[a]=0;return t[Math.floor(e/2)]=1,t}(g))}),[g,R]),Object(n.useEffect)((function(){R&&b(I,u,C,a,y,R)}),[R,I,u,C,a,y]);return i.a.createElement("div",{className:s.a.app},i.a.createElement("main",{className:s.a.appMain},i.a.createElement("h2",null,"Cellular Automata"),i.a.createElement("section",{className:s.a.container},i.a.createElement("button",Object.assign({onClick:x},M),"Simple Mode ",R?"on":"off"," ")),i.a.createElement("section",{className:s.a.container},i.a.createElement("label",{htmlFor:"ruleID"},"Rule: "),i.a.createElement("input",Object.assign({id:"ruleID",min:"0",max:"255"},r)),i.a.createElement("label",{htmlFor:"cellSize"},"Size of cell: "),i.a.createElement("input",Object.assign({id:"cellSize",min:"1",max:"15"},f)),i.a.createElement("label",{htmlFor:"nCells"},"Number of cells: "),i.a.createElement("input",Object.assign({id:"nCells",min:"10",step:"10",max:"900"},v)),i.a.createElement("label",{htmlFor:"steps"},"Iterations: "),i.a.createElement("input",Object.assign({id:"steps",min:"10",step:"10"},N))),!R&&i.a.createElement("section",{className:s.a.container},i.a.createElement("input",{type:"file",id:"file",onChange:function(e){var t,a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){var n=new FileReader;n.readAsText(a),n.onload=function(e){var t,a=(null===(t=e.target)||void 0===t?void 0:t.result).split(",").map((function(e){return Number(e)}));v.onChange({target:{value:a.length}}),j(a)}}}}),i.a.createElement("button",{onClick:function(){return b(I,u,C,a,y,R)}},"Simulate automata")),i.a.createElement("canvas",Object.assign({ref:I},F)),i.a.createElement("div",{id:"graph",style:{visibility:R?"hidden":"initial"}})))},g=document.getElementById("root");l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(d,null)),g)},2:function(e,t,a){e.exports={app:"App_app__3UCIE",appMain:"App_appMain__19oKc",container:"App_container__3twmq",display:"App_display__1-wtw",intenseButton:"App_intenseButton__wA0VR"}},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.c6957848.chunk.js.map